!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).QuillResizeModule=t()}(this,function(){"use strict";var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};var t=function(){return(t=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){if(e&&"undefined"!=typeof window){var t=document.createElement("style");t.setAttribute("media","screen"),t.innerHTML=e,document.head.appendChild(t)}}("#editor-resizer {\n  position: absolute;\n  border: 1px dashed #fff;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n#editor-resizer .handler {\n  position: absolute;\n  right: -5px;\n  bottom: -5px;\n  width: 10px;\n  height: 10px;\n  border: 1px solid #333;\n  background-color: rgba(255, 255, 255, 0.8);\n  cursor: nwse-resize;\n  user-select: none;\n}\n#editor-resizer .toolbar {\n  position: absolute;\n  top: -5em;\n  left: 50%;\n  padding: 0.5em;\n  border: 1px solid #fff;\n  border-radius: 3px;\n  background-color: #fff;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.5);\n  transform: translateX(-50%);\n}\n#editor-resizer .toolbar .group {\n  display: flex;\n  border: 1px solid #aaa;\n  border-radius: 6px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-align: center;\n}\n#editor-resizer .toolbar .group:not(:first-child) {\n  margin-top: 0.5em;\n}\n#editor-resizer .toolbar .group .btn {\n  flex: 1 0 0;\n  text-align: center;\n  width: 25%;\n  padding: 0 0.5rem;\n  display: inline-block;\n  color: rgba(0, 0, 0, 0.65);\n  vertical-align: top;\n  line-height: 2;\n  user-select: none;\n}\n#editor-resizer .toolbar .group .btn.btn-group {\n  padding: 0;\n  display: inline-flex;\n  line-height: 2em;\n}\n#editor-resizer .toolbar .group .btn.btn-group .inner-btn {\n  flex: 1 0 0;\n  font-size: 2em;\n  width: 50%;\n  cursor: pointer;\n}\n#editor-resizer .toolbar .group .btn.btn-group .inner-btn:first-child {\n  border-right: 1px solid #ddd;\n}\n#editor-resizer .toolbar .group .btn.btn-group .inner-btn:active {\n  transform: scale(0.8);\n}\n#editor-resizer .toolbar .group .btn:not(:last-child) {\n  border-right: 1px solid #bbb;\n}\n#editor-resizer .toolbar .group .btn:not(.btn-group):active {\n  background-color: rgba(0, 0, 0, 0.1);\n}\n#editor-resizer .showSize {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  padding: 0.5em;\n  border: 1px solid #fff;\n  border-radius: 3px;\n  background-color: #fff;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.5);\n  transform: translateX(-50%);\n}\n#editor-resizer .showSize .group {\n  display: flex;\n  border: 1px solid #aaa;\n  border-radius: 6px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-align: center;\n}\n#editor-resizer .showSize .group:not(:first-child) {\n  margin-top: 0.5em;\n}\n#editor-resizer .showSize .group .btn {\n  flex: 1 0 0;\n  text-align: center;\n  width: 25%;\n  padding: 0 0.5rem;\n  display: inline-block;\n  color: rgba(0, 0, 0, 0.65);\n  vertical-align: top;\n  line-height: 2;\n  user-select: none;\n}\n#editor-resizer .showSize .group .btn.btn-group {\n  padding: 0;\n  display: inline-flex;\n  line-height: 2em;\n}\n#editor-resizer .showSize .group .btn.btn-group .inner-btn {\n  flex: 1 0 0;\n  font-size: 2em;\n  width: 50%;\n  cursor: pointer;\n}\n#editor-resizer .showSize .group .btn.btn-group .inner-btn:first-child {\n  border-right: 1px solid #ddd;\n}\n#editor-resizer .showSize .group .btn.btn-group .inner-btn:active {\n  transform: scale(0.8);\n}\n#editor-resizer .showSize .group .btn:not(:last-child) {\n  border-right: 1px solid #bbb;\n}\n#editor-resizer .showSize .group .btn:not(.btn-group):active {\n  background-color: rgba(0, 0, 0, 0.1);\n}\n");var n=(e.prototype.findLabel=function(e){return this.config?Reflect.get(this.config,e):null},e);function e(e){this.config=t(t({},r),e)}var r={altTip:"Hold down the alt key to zoom",floatLeft:"Left",floatRight:"Right",center:"Center",restore:"Restore"};var o,s,a;o=HTMLElement,i(s=d,a=o),s.prototype=null===a?Object.create(a):(l.prototype=a.prototype,new l);function l(){this.constructor=s}function d(){var e=null!==o&&o.apply(this,arguments)||this;return e.originSize=null,e}var h,c=!1,p=!1,u=(g.prototype.initResizer=function(){var e=this.container.querySelector("#editor-resizer");e||((e=document.createElement("div")).setAttribute("id","editor-resizer"),h=c?'\n<div class="handler" title="{0}"></div>\n':'\n<div class="handler" title="{0}"></div>\n<div class="showSize" title="{0}">{size}</div>\n<div class="toolbar">\n  <div class="group">\n    <a class="btn" data-width="100%">100%</a>\n    <a class="btn" data-width="50%">50%</a>\n    <a  class="btn btn-group">\n      <span data-width="-5" class="inner-btn">﹣</span>\n      <span data-width="5" class="inner-btn">﹢</span>\n    </a>\n    <a data-width="auto" class="btn">{4}</a>\n  </div>\n  <div class="group">\n    <a class="btn" data-float="left">{1}</a>\n    <a class="btn" data-float="center">{2}</a>\n    <a class="btn" data-float="right">{3}</a>\n    <a data-float="none" class="btn">{4}</a>\n  </div>\n</div>\n',e.innerHTML=function(e){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return e.replace(/\{(\d+)\}/g,function(e,t){return i.length>t?i[t]:""})}(h,this.i18n.findLabel("altTip"),this.i18n.findLabel("floatLeft"),this.i18n.findLabel("center"),this.i18n.findLabel("floatRight"),this.i18n.findLabel("restore")),this.container.appendChild(e)),this.resizer=e},g.prototype.positionResizerToTarget=function(e){var i;null!==this.resizer&&(this.resizer.style.setProperty("left",e.offsetLeft+"px"),this.resizer.style.setProperty("top",e.offsetTop+"px"),this.resizer.style.setProperty("width",e.clientWidth+"px"),this.resizer.style.setProperty("height",e.clientHeight+"px"),this.resizer.innerHTML=(i="450px, 500px",h.replace(/\{(size)\}/g,function(e,t){return i})))},g.prototype.bindEvents=function(){null!==this.resizer&&(this.resizer.addEventListener("mousedown",this.startResize),this.resizer.addEventListener("click",this.toolbarClick)),window.addEventListener("mouseup",this.endResize),window.addEventListener("mousemove",this.resizing)},g.prototype.toolbarClick=function(e){var t,i,n=e.target;(n.classList.contains("btn")||n.classList.contains("inner-btn"))&&(i=n.dataset.width,t=n.dataset.float,e=this.resizeTarget.style,i?("iframe"!==this.resizeTarget.tagName.toLowerCase()&&this.resizeTarget.removeAttribute("height"),"auto"===i?this.resizeTarget.removeAttribute("width"):i.includes("%")?this.resizeTarget.setAttribute("width",i):(n=this.resizeTarget.getAttribute("width")||"",i=parseInt(i),n=n.includes("%")?Math.min(Math.max(parseInt(n)+i,5),100)+"%":Math.max(this.resizeTarget.clientWidth+i,10)+"px",this.resizeTarget.setAttribute("width",n))):"center"===t?(e.setProperty("display","block"),e.setProperty("margin","auto"),e.removeProperty("float")):(e.removeProperty("display"),e.removeProperty("margin"),e.setProperty("float",t)),this.positionResizerToTarget(this.resizeTarget))},g.prototype.startResize=function(e){e.target.classList.contains("handler")&&1===e.which&&(this.startResizePosition={left:e.clientX,top:e.clientY,width:this.resizeTarget.clientWidth,height:this.resizeTarget.clientHeight})},g.prototype.endResize=function(){this.startResizePosition=null},g.prototype.resizing=function(e){var t,i,n,r;this.startResizePosition&&(t=e.clientX-this.startResizePosition.left,i=e.clientY-this.startResizePosition.top,n=this.startResizePosition.width,r=this.startResizePosition.height,n+=t,r+=i,e.altKey&&(r=(e=this.resizeTarget.originSize).height/e.width*n),p?(this.resizeTarget.setAttribute("width",Math.max(n,30)+""),this.resizeTarget.setAttribute("height",Math.max(r,30)+"")):(this.resizeTarget.style.setProperty("width",Math.max(n,30)+"px"),this.resizeTarget.style.setProperty("height",Math.max(r,30)+"px")),this.positionResizerToTarget(this.resizeTarget))},g.prototype.destory=function(){this.container.removeChild(this.resizer),window.removeEventListener("mouseup",this.endResize),window.removeEventListener("mousemove",this.resizing),this.resizer=null},g);function g(e,t,i){this.resizer=null,this.startResizePosition=null,this.i18n=new n((null==i?void 0:i.locale)||r),c=(null==i?void 0:i.hiddenToobar)||!1,p=(null==i?void 0:i.noUseStyle)||!1,(this.resizeTarget=e).originSize||(e.originSize={width:e.clientWidth,height:e.clientHeight}),this.container=t,this.initResizer(),this.positionResizerToTarget(e),this.resizing=this.resizing.bind(this),this.endResize=this.endResize.bind(this),this.startResize=this.startResize.bind(this),this.toolbarClick=this.toolbarClick.bind(this),this.bindEvents()}var f=function(e,t){this.element=e,this.cb=t,this.hasTracked=!1},b=(z.track=function(e,t){this.iframes.push(new f(e,t)),this.interval||(this.interval=setInterval(function(){z.checkClick()},this.resolution))},z.checkClick=function(){if(document.activeElement){var e,t=document.activeElement;for(e in this.iframes)t===this.iframes[e].element?0==this.iframes[e].hasTracked&&(this.iframes[e].cb.apply(window,[]),this.iframes[e].hasTracked=!0):this.iframes[e].hasTracked=!1}},z.resolution=200,z.iframes=[],z.interval=null,z);function z(){}return function(e,i){var n,r,o=e.root;o.addEventListener("click",function(e){var t=e.target;e.target&&["img","video"].includes(t.tagName.toLowerCase())&&(r=new u(n=t,o.parentElement,i))}),e.on("text-change",function(e,t){o.querySelectorAll("iframe").forEach(function(e){b.track(e,function(){r=new u(n=e,o.parentElement,i)})})}),document.addEventListener("mousedown",function(e){var t,i=e.target;i===n||null!==(e=null===(t=null==r?void 0:r.resizer)||void 0===t?void 0:t.contains)&&void 0!==e&&e.call(t,i)||(null!==(i=null==r?void 0:r.destory)&&void 0!==i&&i.call(r),n=r=null)},{capture:!0})}});
